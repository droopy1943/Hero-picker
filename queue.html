<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hero Queue Manager</title>
<style>
  body { 
    font-family: Arial, sans-serif; 
    margin: 20px; 
    background:#111; 
    color:#fff; 
  }
  select, button { 
    margin: 5px; 
    padding:5px 10px; 
    font-size: 1rem;
  }
  button { 
    background:#ffcc00; 
    border:none; 
    cursor:pointer; 
    font-weight:bold; 
  }
  button:hover { background:#ffaa00; }
  ul { list-style:none; padding-left:0; }
  li { margin:5px 0; }
</style>
</head>
<body>
<h1>Hero Queue Manager</h1>

<label for="heroSelect">Add Hero to Queue:</label><br>
<select id="heroSelect">
  <option value="Adam Warlock">Adam Warlock</option>
  <option value="Angela">Angela</option>
  <option value="Black Panther">Black Panther</option>
  <option value="Black Widow">Black Widow</option>
  <option value="Blade">Blade</option>
  <option value="Captain America">Captain America</option>
  <option value="Doctor Strange">Doctor Strange</option>
  <option value="Hawkeye">Hawkeye</option>
  <option value="Hulk">Hulk</option>
  <option value="Iron Man">Iron Man</option>
  <option value="Loki">Loki</option>
  <option value="Magneto">Magneto</option>
  <option value="Spider-Man">Spider-Man</option>
  <option value="Thor">Thor</option>
  <option value="Wolverine">Wolverine</option>
</select>
<br>
<button onclick="addHero()">Add Hero</button>
<button onclick="nextHero()">Next Hero</button>
<button onclick="clearQueue()">Clear Queue</button>

<h2>Current Queue:</h2>
<ul id="queueList"></ul>

<script>
let queue = [];
let overlayWindow = null;

// Open overlay.html in another window (for testing)
function openOverlay() {
  if(!overlayWindow || overlayWindow.closed) {
    overlayWindow = window.open("overlay.html", "Overlay", "width=800,height=600");
  }
}

function refreshQueue() {
  const list = document.getElementById("queueList");
  list.innerHTML = queue.map((q,i)=>`<li>${i+1}. ${q}</li>`).join("");
}

function addHero() {
  const hero = document.getElementById("heroSelect").value;
  queue.push(hero);
  refreshQueue();
}

function nextHero() {
  if(queue.length === 0) return alert("Queue is empty!");
  const next = queue.shift();
  refreshQueue();
  openOverlay();
  overlayWindow.postMessage({hero: next}, "*");
}

function clearQueue() {
  queue = [];
  refreshQueue();
}

refreshQueue();
</script>
</body>
</html>
